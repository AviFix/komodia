<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>Komodia's Redirector FAQ - Komodia</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.20.4" />
<link rel="shortcut icon" href="../../favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="../opensearch_desc.php" title="Komodia (en)" />
<link rel="EditURI" type="application/rsd+xml" href="../api.php@action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Komodia Atom feed" href="../index.php@title=Special%253ARecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="../load.php@debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cskins.monobook&amp;only=styles&amp;skin=monobook&amp;%252A.css" />
<!--[if IE 6]><link rel="stylesheet" href="/wiki/skins/monobook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/wiki/skins/monobook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: komod_wikidb:resourceloader:filter:minify-css:7:dffa96a73b1be9b0dae7e17005fcc939 */</style>

<script src="../load.php@debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;%252A"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Komodia\'s_Redirector_FAQ","wgTitle":"Komodia\'s Redirector FAQ","wgCurRevisionId":1279,"wgArticleId":76,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Komodia\'s_Redirector_FAQ","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,
"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});
/* cache key: komod_wikidb:resourceloader:filter:minify-js:7:c89fc005766e312c555f83b307d08d63 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Komodia_s_Redirector_FAQ skin-monobook action-view">
<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading"><span dir="auto">Komodia's Redirector FAQ</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From Komodia</div>
		<div id="contentSub"></div>
		<div id="jump-to-nav" class="mw-jump">Jump to: <a href="Komodia's_Redirector_FAQ.html#column-one">navigation</a>, <a href="Komodia's_Redirector_FAQ.html#searchInput">search</a></div>
		<!-- start content -->
<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Komodia's_Redirector_FAQ.html#General_questions"><span class="tocnumber">1</span> <span class="toctext">General questions</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="Komodia's_Redirector_FAQ.html#Network_app_takes_a_few_seconds_to_load"><span class="tocnumber">1.1</span> <span class="toctext">Network app takes a few seconds to load</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="Komodia's_Redirector_FAQ.html#What.27s_hard_excluded_applications.3F"><span class="tocnumber">1.2</span> <span class="toctext">What's hard excluded applications?</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="Komodia's_Redirector_FAQ.html#What.27s_hard_included_applications.3F"><span class="tocnumber">1.3</span> <span class="toctext">What's hard included applications?</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="Komodia's_Redirector_FAQ.html#IP_of_tunneled_session"><span class="tocnumber">1.4</span> <span class="toctext">IP of tunneled session</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="Komodia's_Redirector_FAQ.html#ICMP_interception"><span class="tocnumber">1.5</span> <span class="toctext">ICMP interception</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="Komodia's_Redirector_FAQ.html#Support_for_socket_I.2FO_types"><span class="tocnumber">1.6</span> <span class="toctext">Support for socket I/O types</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="Komodia's_Redirector_FAQ.html#OS_Compatability"><span class="tocnumber">1.7</span> <span class="toctext">OS Compatability</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="Komodia's_Redirector_FAQ.html#Where_to_place_the_binaries"><span class="tocnumber">1.8</span> <span class="toctext">Where to place the binaries</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="Komodia's_Redirector_FAQ.html#Log_sizes"><span class="tocnumber">1.9</span> <span class="toctext">Log sizes</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="Komodia's_Redirector_FAQ.html#Difference_between_application_exclude_on_the_apps_to_intercept"><span class="tocnumber">1.10</span> <span class="toctext">Difference between application exclude on the apps to intercept</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="Komodia's_Redirector_FAQ.html#INI_file_locations"><span class="tocnumber">1.11</span> <span class="toctext">INI file locations</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="Komodia's_Redirector_FAQ.html#What.27s_the_best_method_to_control_the_Redirector_rules.3F"><span class="tocnumber">1.12</span> <span class="toctext">What's the best method to control the Redirector rules?</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="Komodia's_Redirector_FAQ.html#Extending_the_Redirector"><span class="tocnumber">2</span> <span class="toctext">Extending the Redirector</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="Komodia's_Redirector_FAQ.html#Adding_traffic_bytes_counter"><span class="tocnumber">2.1</span> <span class="toctext">Adding traffic bytes counter</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="Komodia's_Redirector_FAQ.html#Should_I_use_the_COM_API.3F"><span class="tocnumber">2.2</span> <span class="toctext">Should I use the COM API?</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="Komodia's_Redirector_FAQ.html#How_to_programatically_load_the_DLL"><span class="tocnumber">2.3</span> <span class="toctext">How to programatically load the DLL</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="Komodia's_Redirector_FAQ.html#Returning_a_picture"><span class="tocnumber">2.4</span> <span class="toctext">Returning a picture</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="Komodia's_Redirector_FAQ.html#Licensing"><span class="tocnumber">3</span> <span class="toctext">Licensing</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="Komodia's_Redirector_FAQ.html#Branding"><span class="tocnumber">3.1</span> <span class="toctext">Branding</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="Komodia's_Redirector_FAQ.html#License_time_frame"><span class="tocnumber">3.2</span> <span class="toctext">License time frame</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="Komodia's_Redirector_FAQ.html#Do_I_need_another_license.3F"><span class="tocnumber">3.3</span> <span class="toctext">Do I need another license?</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="Komodia's_Redirector_FAQ.html#Specific_modules"><span class="tocnumber">4</span> <span class="toctext">Specific modules</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="Komodia's_Redirector_FAQ.html#Blocking_MSN"><span class="tocnumber">4.1</span> <span class="toctext">Blocking MSN</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="Komodia's_Redirector_FAQ.html#HTTP_Parser_methods_not_being_called"><span class="tocnumber">4.2</span> <span class="toctext">HTTP Parser methods not being called</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="Komodia's_Redirector_FAQ.html#How_does_the_DNS_hijacking_works"><span class="tocnumber">4.3</span> <span class="toctext">How does the DNS hijacking works</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-27"><a href="Komodia's_Redirector_FAQ.html#32.2F64_bit"><span class="tocnumber">5</span> <span class="toctext">32/64 bit</span></a>
<ul>
<li class="toclevel-2 tocsection-28"><a href="Komodia's_Redirector_FAQ.html#Does_the_SDK_works_on_64bit_OS.3F"><span class="tocnumber">5.1</span> <span class="toctext">Does the SDK works on 64bit OS?</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-29"><a href="Komodia's_Redirector_FAQ.html#Programming_questions"><span class="tocnumber">6</span> <span class="toctext">Programming questions</span></a>
<ul>
<li class="toclevel-2 tocsection-30"><a href="Komodia's_Redirector_FAQ.html#SQLite"><span class="tocnumber">6.1</span> <span class="toctext">SQLite</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="Komodia's_Redirector_FAQ.html#InstallDLL_no_longer_produces_.lib_files"><span class="tocnumber">6.2</span> <span class="toctext">InstallDLL no longer produces .lib files</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="Komodia's_Redirector_FAQ.html#Trying_to_remote_debug_the_SDK_hangs"><span class="tocnumber">6.3</span> <span class="toctext">Trying to remote debug the SDK hangs</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-33"><a href="Komodia's_Redirector_FAQ.html#LSP"><span class="tocnumber">7</span> <span class="toctext">LSP</span></a>
<ul>
<li class="toclevel-2 tocsection-34"><a href="Komodia's_Redirector_FAQ.html#Detecting_LSP_removal"><span class="tocnumber">7.1</span> <span class="toctext">Detecting LSP removal</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="Komodia's_Redirector_FAQ.html#Deleting_your_LSP_only"><span class="tocnumber">7.2</span> <span class="toctext">Deleting your LSP only</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="Komodia's_Redirector_FAQ.html#LSP_log_location"><span class="tocnumber">7.3</span> <span class="toctext">LSP log location</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="Komodia's_Redirector_FAQ.html#Uninstalling_the_LSP"><span class="tocnumber">7.4</span> <span class="toctext">Uninstalling the LSP</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="Komodia's_Redirector_FAQ.html#Uninstalling_then_installing_the_LSP"><span class="tocnumber">7.5</span> <span class="toctext">Uninstalling then installing the LSP</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-39"><a href="Komodia's_Redirector_FAQ.html#DLL_framework"><span class="tocnumber">8</span> <span class="toctext">DLL framework</span></a>
<ul>
<li class="toclevel-2 tocsection-40"><a href="Komodia's_Redirector_FAQ.html#Modifying_the_HTML"><span class="tocnumber">8.1</span> <span class="toctext">Modifying the HTML</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="Komodia's_Redirector_FAQ.html#MessageBox_in_the_DLL"><span class="tocnumber">8.2</span> <span class="toctext">MessageBox in the DLL</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-42"><a href="Komodia's_Redirector_FAQ.html#General_LSP_questions"><span class="tocnumber">9</span> <span class="toctext">General LSP questions</span></a>
<ul>
<li class="toclevel-2 tocsection-43"><a href="Komodia's_Redirector_FAQ.html#What_is:_LSP_INSPECTOR"><span class="tocnumber">9.1</span> <span class="toctext">What is: LSP_INSPECTOR</span></a></li>
<li class="toclevel-2 tocsection-44"><a href="Komodia's_Redirector_FAQ.html#Can_I_change_the_TCP.2FIP_flags_with_LSP"><span class="tocnumber">9.2</span> <span class="toctext">Can I change the TCP/IP flags with LSP</span></a></li>
<li class="toclevel-2 tocsection-45"><a href="Komodia's_Redirector_FAQ.html#How_does_SetFileCompletionNotificationModes_will_affect_the_LSP"><span class="tocnumber">9.3</span> <span class="toctext">How does SetFileCompletionNotificationModes will affect the LSP</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="General_questions"> General questions  </span></h1>
<h2> <span class="mw-headline" id="Network_app_takes_a_few_seconds_to_load"> Network app takes a few seconds to load </span></h2>
<p>Question:
</p><p>When our program is installed and not running, sometimes it causes an issue where when a first open any internet application there is a long delay of several seconds before it connects. Then it connects normally for as long as it is open
</p><p>Answer:
</p><p>The reason is that the service needs to start and it does takes a few seconds for it to start and the application to get its settings.
</p><p>Resolution:
</p><p>Make sure that you install the service with the /Auto flag (<a class="external free" href="../index.php@title=Komodia%2527s_Redirector_installation_guide.html#Auto">http://www.komodia.com/wiki/index.php?title=Komodia%27s_Redirector_installation_guide#Auto</a>) , and also start the service just after you installed it.
</p>
<h2> <span class="mw-headline" id="What.27s_hard_excluded_applications.3F"> What's hard excluded applications? </span></h2>
<p>Question:
</p><p>What's hard excluded applications and what's the difference from the soft excluded (the TCP panel with the applications/ports/ips)
</p><p>Answer:
</p><p>When the LSP loads it firsts checks a file to get the list of hard excluded applications, in case the application is in the excluded list then the LSP will bypass itself and although the DLL is loaded, it will not be inside the chain and in effect it is just as it weren't loaded.
</p><p>The difference to the soft excluded is that in the soft excluded the LSP is loaded and active, just not redirecting. The LSP is in a state it can get new settings and be turned back on for a running application. In the hard excluded the LSP can't be turned on for a running application. If you changed the settings (for example removed the application from the hard excluded list) only new instances of that applications will get that setting.
</p>
<h2> <span class="mw-headline" id="What.27s_hard_included_applications.3F"> What's hard included applications? </span></h2>
<p>Question:
</p><p>What's hard included applications and what's the difference from the soft included (the TCP panel with the applications/ports/ips)
</p><p>Answer:
</p><p>When the LSP loads it firsts checks a file to get the list of hard included applications, in case the application is in the included list then the LSP set itself to a loaded state even if this application is a service or a system critical process (which is excluded by default)
</p><p>The difference to the soft include is that in the soft include is only performed if the LSP is loaded, which is not the case for services (this can be changed by a compile time flag) or system critical processes. But if you hard include those services/critical processes you would be able to perform soft include rules on them.
</p><p>When a process is hard included it doesn't mean it will be intercepted, it will only be intercepted if the soft rules will apply to it.
</p>
<h2> <span class="mw-headline" id="IP_of_tunneled_session"> IP of tunneled session </span></h2>
<p>Question:
</p><p>Can Redirector ensure the SSH tunnel to our server shows the outgoing connection the originators IP address when we connect from the server to the end destination?
</p><p>Answer:
</p><p>No, TCP/IP doesn't allow a machine to "spoof" the source IP of the session, this can't be done with any networking redirection technology and is not a limitation just of the Redirector.
</p><p>It is possible when using a HTTP Proxy to add a HTTP field with the users' real IP, but only because the protocol supports it.
</p>
<h2> <span class="mw-headline" id="ICMP_interception"> ICMP interception </span></h2>
<p>Question:
</p><p>Does the Redirector intercepts ping packets (ICMP)?
</p><p>Answer:
</p><p>No, it doesn't.
</p>
<h2> <span class="mw-headline" id="Support_for_socket_I.2FO_types"> Support for socket I/O types </span></h2>
<p>Question:
</p><p>Does the Redirector supports all socket I/O types: select, WSAAsyncSelect, WSAEventSelect, Overlapped I/O, and IOCP.
</p><p>Answer:
</p><p>Yes it does.
</p>
<h2> <span class="mw-headline" id="OS_Compatability"> OS Compatability </span></h2>
<p>Question:
</p><p>Which OS does the Redirector supports?
</p><p>Answer:
</p><p>Win2000
WinXP 32/64bit
Windows 2003 32/64bit
Windows Vista 32/64bit
Windows7 32/64bit
Windows 2008 32/64bit
</p>
<h2> <span class="mw-headline" id="Where_to_place_the_binaries"> Where to place the binaries </span></h2>
<p>We recommend to place the binary at a folder like program files\your company name.
</p><p>It seems that some feel the need to place them under System32. In that case there are some guidelines:
</p><p>Don't place the LSP or LSP installer under system32, you must put it in other directory and let the LSP installer copy the LSP to its location.
If you are under 64bit OS, you should place the files under SysWOW64 and not System32
If you have the SSL Digestor, make sure you place all the cert DLLs in the same directory as the Redirector itself
</p>
<h2> <span class="mw-headline" id="Log_sizes"> Log sizes </span></h2>
<p>Question:
</p><p>The SDK logs seems to grow, when does it stop?
</p><p>Answer:
</p><p>When the logs reaches 5MB it's reset and the log starts from zero again.
</p>
<h2> <span class="mw-headline" id="Difference_between_application_exclude_on_the_apps_to_intercept"> Difference between application exclude on the apps to intercept </span></h2>
<p>Question:
</p><p>What's the difference if I invert the apps to intercept and add apps to exclude on the left table, or specify them on the global apps to exclude on the right table.
</p><p>Answer:
</p><p>Because the rules are logical OR you may specify an app to exclude on the left table, but if it will satisfy another rule (say port 80) that port will be intercepted for that app, but if you specify the app in the right table, even if any rule applied, it will not be intercepted.
</p>
<h2> <span class="mw-headline" id="INI_file_locations"> INI file locations </span></h2>
<p>Question:
</p><p>My application uses preconfigured ini files, where should I place them?
</p><p>Answer:
</p><p>On 32bit OS: The normal .ini and offline .ini goes under system32.
</p><p>On 64bit OS: 
</p>
<ul><li> If using 32bit build: The normal .ini goes under SysWOW64, and the offline .ini goes under both system32 and SysWOW64
</li><li> If using 64bit build: The normal .ini goes under System32, and the offline .ini goes under both system32 and SysWOW64
</li></ul>
<h2> <span class="mw-headline" id="What.27s_the_best_method_to_control_the_Redirector_rules.3F"> What's the best method to control the Redirector rules? </span></h2>
<p>Question:
</p><p>I want to know what is the best way to set the Redirector interception rules.
</p><p>Answer:
</p><p>There are two ways to control the Redirector, if you plan to have static rules which will not change on the fly then you can set your rules once in the dev machine and then copy the generated ini files to their expected locations right before you install the proxy, you can read more about ini file locations here: <a href="Komodia's_Redirector_FAQ.html#INI_file_locations" title="Komodia's Redirector FAQ">Komodia's Redirector FAQ#INI file locations</a>.
</p><p>The other method is if you plan to have changes in runtime is to use the COM API.
</p>
<h1> <span class="mw-headline" id="Extending_the_Redirector"> Extending the Redirector  </span></h1>
<h2> <span class="mw-headline" id="Adding_traffic_bytes_counter"> Adding traffic bytes counter </span></h2>
<p>Question:
</p><p>Would it be possible to use LSP or the proxy client to keep count of the aggregate data transferred between the proxy client and the Proxy server (I.e. keep track of the aggregate data volume that goes through the socksified socket connections for each App).
</p><p>Answer:
</p><p>When using the DLL framework you get the bytes transfered under the mehotds DataBeforeSend and DataBeforeReceive and you can aggregate those values based on any statistics you want.
</p><p>Another approach would be to use the statistics module which is located under "Statistics" in the PCController.
</p>
<h2> <span class="mw-headline" id="Should_I_use_the_COM_API.3F"> Should I use the COM API? </span></h2>
<p>Question:
</p><p>Should I use the COM API to control the redirection rules?
</p><p>Answer:
</p><p>This is up to you, if you plan to change settings on the fly, then this is a good option, but if your rules are pre determined and you will not change them, you might consider copying the .ini file from the dev machine onto the target machines.
</p>
<h2> <span class="mw-headline" id="How_to_programatically_load_the_DLL"> How to programatically load the DLL </span></h2>
<p>Question:
</p><p>How do I programatically load the DLL?
</p><p>Answer:
</p><p>You have two ways:
</p><p>Load the DLL via the COM API, more info can be found at: <a class="external free" href="../index.php@title=Komodia%2527s_Redirector_API_Guide.html#Setting_a_DLL_to_load">http://www.komodia.com/wiki/index.php?title=Komodia%27s_Redirector_API_Guide#Setting_a_DLL_to_load</a>
</p><p>Create a INI file upfront in your development machine and distribute it with your release, you can read more about it <a href="Komodia's_Redirector_FAQ.html#What.27s_the_best_method_to_control_the_Redirector_rules.3F" title="Komodia's Redirector FAQ">Komodia's Redirector FAQ#What.27s_the_best_method_to_control_the_Redirector_rules.3F</a>
</p>
<h2> <span class="mw-headline" id="Returning_a_picture"> Returning a picture </span></h2>
<p>Question:
</p><p>I use the HTTP Parser, how can I return a picture when I'm at HTTPRequestBeforeSend.
</p><p>Answer:
</p><p>You need to use the return code hrReturnHTMLAndHeader and put the header+data inside the buffer.
</p>
<h1> <span class="mw-headline" id="Licensing"> Licensing  </span></h1>
<h2> <span class="mw-headline" id="Branding"> Branding </span></h2>
<p>Question:
</p><p>Our brand name is X but we co-partner with other companies to target their customer bases and it usually requires a custom branding for each sales opportunity. We could need that our license includes the ability to rebrand.
</p><p>Answer:
</p><p>There are two options:
</p><p>For each rebrand you pay a precentage (which is agreed on during the price quoting) of the version you rebranded. For example if you bought the source but rebranded just the binary, the precentage would be taken from the binary price.
Buy a OEM license which has no rebranding limitations, naturally it's more expensive.
</p>
<h2> <span class="mw-headline" id="License_time_frame"> License time frame </span></h2>
<p>Question:
</p><p>For how long am I licensed when I purchase the SDK from you?
</p><p>Answer:
</p><p>The license is perpetual (as long that there's no contract breach), but the support fees are annual. You can decide not to renew support but from experience in a term of 6-12 months some major change occur that requires an update and without it the SDK will not work on future software/OS/Service packs.
</p>
<h2> <span class="mw-headline" id="Do_I_need_another_license.3F"> Do I need another license? </span></h2>
<p>Question:
</p><p>When is the case another license is needed?
</p><p>Answer:
</p><p>If you release one product or number of products under your company name, you need only one license (you are still bound to the user count), but if you release a product under another companies' name you need an additional license.
</p><p>For example: Your company is company A, and you release product X and Y under A, then it's one license, but if you release X or Y under company B (another company name) then you need an additional license.
</p>
<h1> <span class="mw-headline" id="Specific_modules"> Specific modules  </span></h1>
<h2> <span class="mw-headline" id="Blocking_MSN"> Blocking MSN </span></h2>
<p>Question:
</p><p>I we want to only block MSN do we need this module?
</p><p>Answer:
</p><p>No, this module is aimed to parse and change the content of MSN chat. If you want to block MSN this can be done at port or application level.
</p>
<h2> <span class="mw-headline" id="HTTP_Parser_methods_not_being_called"> HTTP Parser methods not being called </span></h2>
<p>Question:
</p><p>The SDK is not calling the HTTP Parser methods (inside either the DLL framework or COM framework)
</p><p>Answer:
</p><p>Make sure you have purchased the module, because these methods are only called when the module is inside included with the SDK.
</p>
<h2> <span class="mw-headline" id="How_does_the_DNS_hijacking_works"> How does the DNS hijacking works </span></h2>
<p>Question:
</p><p>How does the DNS hijacking modules work?
</p><p>Answer:
</p><p>The module works by intercepting the DNS methods for each intercepted application and replaces the IPs with false IPs.
</p><p>At the Redirector level number of things can happen:
</p><p>If no proxy is set the Redirector will resolve the DNS itself.
If a proxy is set (that support domain name), then the domain name will be used.
If a DLL is set, the DLL can be able to resolve the address itself.
</p>
<h1> <span class="mw-headline" id="32.2F64_bit"> 32/64 bit  </span></h1>
<h2> <span class="mw-headline" id="Does_the_SDK_works_on_64bit_OS.3F"> Does the SDK works on 64bit OS? </span></h2>
<p>Question:
</p><p>Does the SDK works on 64bit OS?
</p><p>Answer:
</p><p>Yes it does, the difference between 32bit and 64bit OS is that on the 64bit you need to also install a 64bit LSP to intercept the 64bit apps.
</p>
<h1> <span class="mw-headline" id="Programming_questions"> Programming questions  </span></h1>
<h2> <span class="mw-headline" id="SQLite"> SQLite </span></h2>
<p>Question:
</p><p>I noticed that the filter has a SQLite3.dll file. Does it have the SQLite API built in? If so, I'd like to use it. ClientCustomizations. I tried including SQLite3.h in its various forms, but that didn't work. I also searched the Wiki and didn't find anything. I had just planned on adding the official source files from the SQLite home page, but if it's already built in, I might as well go that route.
</p><p><br />
So is it available, and if so, how can I get access to the API?
Answer:
</p><p>This DLL is a dependency for the cert installer, there's no direct access to it via the Redirector.
</p>
<h2> <span class="mw-headline" id="InstallDLL_no_longer_produces_.lib_files"> InstallDLL no longer produces .lib files </span></h2>
<p>Question:
</p><p>I notice that InstallDLL no longer produces a .lib file, is it by design?
</p><p>Answer:
</p><p>InstallDLL was modified so it will can be used with other languages then C++
</p>
<h2> <span class="mw-headline" id="Trying_to_remote_debug_the_SDK_hangs"> Trying to remote debug the SDK hangs </span></h2>
<p>Question:
</p><p>When I try to remotely debug the SDK on a VM machine, the debugger hangs, how can this be resolved?
</p><p>Answer:
</p><p>The problem is that the interception rules is set to all processes, and when you break into the Redirector, you stall the debugger traffic (since it's intercepted). The solution is add the remote debugger (msvsmon.exe) into the hard excluded apps.+
</p>
<h1> <span class="mw-headline" id="LSP"> LSP  </span></h1>
<h2> <span class="mw-headline" id="Detecting_LSP_removal"> Detecting LSP removal </span></h2>
<p>Question:
</p><p>How can I detect that my LSP has been removed?
</p><p>Answer:
</p><p>You can do it using number of ways:
</p><p>1. RegisterLSP -p and analyze the output.
2. Use the DLL Register LSP to get the LSP list.
3. Use the COM LSP component to get the list.
</p>
<h2> <span class="mw-headline" id="Deleting_your_LSP_only"> Deleting your LSP only </span></h2>
<p>Question:
</p><p>Using "registerlsp -f" deletes all LSPs, how can I delete just my LSP.
</p><p>Answer:
</p><p>Use: registerlsp -q yourlspname
</p>
<h2> <span class="mw-headline" id="LSP_log_location"> LSP log location </span></h2>
<p>Question:
</p><p>Where do I find the LSP log?
</p><p>Answer:
</p><p>The log is off by default, to turn it on follow these insturctions: <a class="external free" href="../index.php@title=Komodia%2527s_Redirector_troubleshooting_guide.html#Enabling_LSP_log">http://www.komodia.com/wiki/index.php?title=Komodia%27s_Redirector_troubleshooting_guide#Enabling_LSP_log</a>
</p><p>Once the log is generated it will be under the user's&#160;%temp% and&#160;%temp%\low directory, with the name pcproxy.log
</p>
<h2> <span class="mw-headline" id="Uninstalling_the_LSP"> Uninstalling the LSP </span></h2>
<p>Question:
</p><p>If I uninstall the LSP, would the software that uses the LSP will stop to work?
</p><p>Answer:
</p><p>The applications will keep working with the LSP until they are closed, new instances will load without the LSP. The LSP is queued to be deleted at reboot.
</p>
<h2> <span class="mw-headline" id="Uninstalling_then_installing_the_LSP"> Uninstalling then installing the LSP </span></h2>
<p>Question:
</p><p>The LSP is marked for deletion after uninstall on the next reboot, if I install it without a reboot, will the new LSP be deleted?
</p><p>Answer:
</p><p>The LSP is renamed before marked for deletion so the old LSP will be deleted and not the new one.
</p>
<h1> <span class="mw-headline" id="DLL_framework"> DLL framework  </span></h1>
<h2> <span class="mw-headline" id="Modifying_the_HTML"> Modifying the HTML </span></h2>
<p>Question:
</p><p>I modified the HTML data, returned dhrModify but the content length was not modified.
</p><p>Answer:
</p><p>When using dhrModify, you are responsible to adjust the header as well. If you wish that the Redirector will adjust it, then you need to return dhrReturnHTML.
</p>
<pre>How can I return HTML+Header in HTTPRequestBeforeSend ==
</pre>
<p>Question:
</p><p>How can I return HTML+Header using the return value "dhrReturnHTMLAndHeader" when I have only one pointer to modify?
</p><p>Answer:
</p><p>If you want to return both HTML+Header you put them both on the same pointer, this is different then HTTPRequestBeforeReceive in which you indeed have two pointers to modify.
</p>
<h2> <span class="mw-headline" id="MessageBox_in_the_DLL"> MessageBox in the DLL </span></h2>
<p>I've placed a mesagebox inside the DLL for debugging purposes, is it good?
</p><p>Answer:
</p><p>Because the service can't interact with the desktop (in XP you can set a flag to do it, but in Vista and above this flag has no effect) you will never see the message box and this will cause the service to hang and you will experience all sorts of problems, so don't put a message box inside the DLL.
</p>
<h1> <span class="mw-headline" id="General_LSP_questions"> General LSP questions </span></h1>
<h2> <span class="mw-headline" id="What_is:_LSP_INSPECTOR"> What is: LSP_INSPECTOR </span></h2>
<p>Question:
</p><p>What is LSP_INSPECTOR LSP?
</p><p>Answer:
</p><p>From Windows Vista and above there is a feature called LSP categories which allows the OS to know when to load or not to load your LSP, LSP_INSPECTOR is one of the types, this however doesn't change the code inside the LSP, only the way you register is with the OS.
</p>
<h2> <span class="mw-headline" id="Can_I_change_the_TCP.2FIP_flags_with_LSP"> Can I change the TCP/IP flags with LSP </span></h2>
<p>Question:
</p><p>I want to modify the IP and/or TCP packet flags, can I do it with LSP?
</p><p>Answer:
</p><p>With the LSP you can do all the manipulations that you can do with normal sockets, Winsock gives limited control over the header flags.
</p>
<h2> <span class="mw-headline" id="How_does_SetFileCompletionNotificationModes_will_affect_the_LSP"> How does SetFileCompletionNotificationModes will affect the LSP </span></h2>
<p>Question:
</p><p>If an developer uses SetFileCompletionNotificationModes with parameter 1 or 3 which disabled completion port, will the application or LSP be affected?
</p><p>Answer:
</p><p>When a developer sets this flag, the app will not be able to receive any notifications from the LSP, the developer will have to work extensively to make overlaped sockets work when setting this flag.
</p>
<!-- 
NewPP limit report
Preprocessor visited node count: 228/1000000
Preprocessor generated node count: 0/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key komod_wikidb:pcache:idhash:76-0!*!0!!en!*!* and timestamp 20150219005933 -->
</div><div class="printfooter">
Retrieved from "<a href="../index.php@title=Komodia%2527s_Redirector_FAQ&amp;oldid=1279.html">http://www.komodia.com/wiki/index.php?title=Komodia%27s_Redirector_FAQ&amp;oldid=1279</a>"</div>
		<div id='catlinks' class='catlinks catlinks-allhidden'></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
				<li id="ca-nstab-main" class="selected"><a href="Komodia's_Redirector_FAQ.html" primary="1" context="subject" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="http://www.komodia.com/wiki/index.php?title=Talk:Komodia%27s_Redirector_FAQ&amp;action=edit&amp;redlink=1" primary="1" context="talk" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource"><a href="../index.php@title=Komodia%2527s_Redirector_FAQ&amp;action=edit.html" primary="1" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="../index.php@title=Komodia%2527s_Redirector_FAQ&amp;action=history.html" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="../index.php@title=Special%253AUserLogin&amp;returnto=Komodia%2527s+Redirector+FAQ.html" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
<a href="Main_Page.html" style="background-image: url(http://www.komodia.com/images/logo.png);" title="Visit the main page"></a>
	</div>
	<div class="generated-sidebar portlet" id="p-navigation">
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-Official-homepage"><a href="../../index.php.html">Official homepage</a></li>
				<li id="n-recentchanges"><a href="Special%253ARecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="http://www.komodia.com/wiki/index.php" id="searchform">
				<input type='hidden' name="title" value="Special:Search"/>
				<input type="search" name="search" title="Search Komodia [f]" accesskey="f" id="searchInput" />
				<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
				<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="Special%253AWhatLinksHere/Komodia's_Redirector_FAQ.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="Special%253ARecentChangesLinked/Komodia's_Redirector_FAQ.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
				<li id="t-specialpages"><a href="Special%253ASpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="../index.php@title=Komodia%2527s_Redirector_FAQ&amp;printable=yes.html" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
				<li id="t-permalink"><a href="../index.php@title=Komodia%2527s_Redirector_FAQ&amp;oldid=1279.html" title="Permanent link to this revision of the page">Permanent link</a></li>
			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<div id="f-poweredbyico">
		<a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
	</div>
	<ul id="f-list">
		<li id="lastmod"> This page was last modified on 28 February 2014, at 15:23.</li>
		<li id="viewcount">This page has been accessed 3,281 times.</li>
		<li id="privacy"><a href="Komodia%253APrivacy_policy.html" title="Komodia:Privacy policy">Privacy policy</a></li>
		<li id="about"><a href="Komodia%253AAbout.html" title="Komodia:About">About Komodia</a></li>
		<li id="disclaimer"><a href="Komodia%253AGeneral_disclaimer.html" title="Komodia:General disclaimer">Disclaimers</a></li>
	</ul>
</div>
</div>
<script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest"], null, true);
}</script>
<script>if(window.mw){
mw.loader.state({"site":"ready"});
}</script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-6898822-1");
pageTracker._trackPageview();
</script><!-- Piwik -->
<script type="text/javascript">
/* <![CDATA[ */
var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.komodia.com/" : "http://piwik.komodia.com/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
/* ]]> */
</script>
<script type="text/javascript">
/* <![CDATA[ */
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 6);
piwikTracker.setDocumentTitle("");
piwikTracker.setIgnoreClasses("image");

piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
/* ]]> */
</script><noscript><p><img src="http://piwik.komodia.com/piwik.php?idsite=6" style="border:0" alt=""/></p></noscript>
<!-- /Piwik --><!-- Served in 0.171 secs. --></body></html>