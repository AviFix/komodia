<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>View source for Komodia's Redirector user experience guide - Komodia</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.20.4" />
<link rel="next" href="index.php/Komodia's_Redirector_user_experience_guide.html" />
<link rel="shortcut icon" href="../favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Komodia (en)" />
<link rel="EditURI" type="application/rsd+xml" href="api.php@action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Komodia Atom feed" href="index.php@title=Special%253ARecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="load.php@debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cskins.monobook&amp;only=styles&amp;skin=monobook&amp;%252A.css" />
<!--[if IE 6]><link rel="stylesheet" href="/wiki/skins/monobook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/wiki/skins/monobook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: komod_wikidb:resourceloader:filter:minify-css:7:dffa96a73b1be9b0dae7e17005fcc939 */</style>

<script src="load.php@debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;%252A"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Komodia\'s_Redirector_user_experience_guide","wgTitle":"Komodia\'s Redirector user experience guide","wgCurRevisionId":356,"wgArticleId":34,"wgIsArticle":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Komodia\'s_Redirector_user_experience_guide","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,
"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});
/* cache key: komod_wikidb:resourceloader:filter:minify-js:7:c89fc005766e312c555f83b307d08d63 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Komodia_s_Redirector_user_experience_guide skin-monobook action-edit">
<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading"><span dir="auto">View source for Komodia's Redirector user experience guide</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From Komodia</div>
		<div id="contentSub">‚Üê <a href="index.php/Komodia's_Redirector_user_experience_guide.html" title="Komodia's Redirector user experience guide">Komodia's Redirector user experience guide</a></div>
		<div id="jump-to-nav" class="mw-jump">Jump to: <a href="index.php@title=Komodia%2527s_Redirector_user_experience_guide&amp;action=edit.html#column-one">navigation</a>, <a href="index.php@title=Komodia%2527s_Redirector_user_experience_guide&amp;action=edit.html#searchInput">search</a></div>
		<!-- start content -->
<div id="mw-content-text"><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in the group: <a href="http://www.komodia.com/wiki/index.php?title=Komodia:Users&amp;action=edit&amp;redlink=1" class="new" title="Komodia:Users (page does not exist)">Users</a>.
</p>
</div>
<hr />
<p>You can view and copy the source of this page:
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" lang="en" dir="ltr" name="wpTextbox1">When deploying a product for end user, it requires special attention to the small details because users wants things that may look wierd to us, but since everyone wants to have a maximum conversation rate those concerns need to be addressed. In this page I'll go over the way the [[Komodia's Redirector]] words in regards to user experience and how it can be modified.

= Installing =

When installing all running application will not be intercepted, it's always advised to reboot after an install.

= Uninstalling =

When uninstalling some running applications may no longer have networking, it's always advised to reboot after an uninstall.

= Reboot =

When installing the SDK, it will not affected any running application until they are closed and re-opened, or the computer is rebooted.

A way to overcome this is to force the user to close all network apps you plan to intercept before you install the SDK.

= Install then uninstall =

This behavior will cause network lost, never install after an uninstall without a reboot in between.

= Updating =

== Winsock LSP ==

To update the LSP you use the install method, the [[Komodia's Advanced LSP Installer]] will identify it's an update scenario and will update the LSP without any need for reboot.

== Redirector service ==

Before updating the service it must be stopped, if there's any intercepted connections they will be terminated.

= Rules update flow =

== Process start ==

When a process starts the Winsock LSP is receiving the rules from the Redirector.

= Rules update =

After the interception rules was updated it will not be automatically sent to all running applications (ofcourse all new instances will receive the rule update)

The rules will be updated inside the already running applications by two ways:

# The application will hit its refresh timeout and will automatically query for the new rules (this occurs by default every one minute)
# You will tell the Redirector to send an update to all Winsock LSPs and all the rules will be send instantly (to send an update you call the method CDataController::BroadcastChange with parameter of 1).

= Connection status when switching rules =

Updating the rules will not affect existing connections: a browser is connected to Google's website and there's no rule to intercept port 80 or the browser so the connection is made directly, after you set a rule to either intercept port 80 or the browser (and assuming the rule was updated inside the browser) all new connections will be intercepted, but the already existing connection is not, if will stay alive and the browser will use it to get data from Google until it is closed by the server or the browser, this behaviour is observed by refreshing a website after the rules was updates, but the "new" connections are not intercepted, because they are not new.

The same scenario works in reverse, intercepted connection remain intercepted even after the rule to intercept them was deleted.

== Change from non intercepted to intercepted ==

To forcefully close non intercepted connections you can call CDataController::BroadcastChange with parameter of 2 (instead of the original call with parameter of 1), this tells the Winsock LSP to update the rules and close the connections (only connections that should be intercepted because of the new rules):

# HTTP Connections - The Winsock LSP detects if a connection is HTTP, if it is, the next HTTP request on a non intercepted connection will be redirected into the Redirector using a 302 HTTP reply (a running HTTP download will not be redirected until the download is finished)
# Non HTTP Connections - Will be terminated on next send or receive.

== Change from intercepted to non intercepted ==

When disabling the Redirector it will redirect all HTTP connection to non intercepted state. It will close all non HTTP connections (this is a compile time flag which needs to be requested).

= Auto start vs Manual start =

The Redirector comes in two modes:

* Auto start - The Winsock LSP component automatically starts the Redirector service if it's shutdown.
* Manual start - The Winsock LSP component does not start the Redirector service if it's shutdown, in addition no redirection is taking place if the Redirector is shutdown.

The setting is defined at compile time, so if you have a version that does Auto start or manual start and you want the other option you need to request it, due for technical reason it's not possible to set this at run time.

== Auto start ==

The Winsock LSP will also query the Redirector for the most recent set of rules every one minute regardless of the state the Redirector is in (if it's shutdown, this will auto start it), this value can be changed by changing the flag: "lsprefresh", the flag is denoted in miliseconds.

This is the default setting for the Redirector.

== Manual start ==

The Winsock LSP will also query the Redirector for the most recent set of rules every one minute but only if the Redirector is in a running state, this value can be changed by changing the flag: "lsprefresh", the flag is denoted in miliseconds.

=== Auto update on restart ===

Further more there's a compile time setting which causes the Winsock LSP to refresh the rules each time the Redirector is started.

= Browser caching =

When the browser has old cache inside or even new cache (if you don't disable caching) it means that some content may go unfiltered or unredirected because the browser will use the local content rather then the server content, this can be a problem when trying to check IP notifying sites (to test anonymizers) or when trying to do content check.

If one of these scenarios may pose a problem we recommend that you:

* Delete all the cache for all browsers when you first install your product.
* Tell the Redirector to disable caching, you can see how here: [[Komodia's Redirector installation guide#Enable_clearing_cache]]

= Interaction with 3rd party products =

== Anti viruses/Firewalls ==

=== Detection ===

The SDK should not be detected by any wide spread Anti-virus, this can be checked with this site: [http://www.virustotal.com Online virus testing sites]

=== Installation ===

Some security products block installation attempts regardless of the product you try to install, for example:

* Block attempts to register a service
* Block attempts to register a LSP
* Block outgoing connections

Nothing can be done to circumvent these types of protections, and it's a matter of user education. Some firewalls are in paranoid mode that even when you try to surf with a legit browser on a clean machine, it will request for permission.

== Spywares ==

The SDK is not a security product, spywares will damage many aspects of the user experience. We don't provide any compatability with spywares.

== 3rd party LSP ==

Please read this guide on [http://www.komodia.com/index.php?page=lspconflict.html LSP conflicts]

Basically you have number of options:

1. Don't install when another LSP is installed.
2. Forcebly remove another LSP.
3. Work with an existing LSP. We highly recommend to test such installation with the specific LSP type before doing this at the user's computer.
</textarea><div class="templatesUsed"></div><p id="mw-returnto">Return to <a href="index.php/Komodia's_Redirector_user_experience_guide.html" title="Komodia's Redirector user experience guide">Komodia's Redirector user experience guide</a>.</p>
</div><div class="printfooter">
Retrieved from "<a href="index.php/Komodia's_Redirector_user_experience_guide.html">http://www.komodia.com/wiki/index.php/Komodia%27s_Redirector_user_experience_guide</a>"</div>
		<div id='catlinks' class='catlinks catlinks-allhidden'></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
				<li id="ca-nstab-main" class="selected"><a href="index.php/Komodia's_Redirector_user_experience_guide.html" primary="1" context="subject" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="http://www.komodia.com/wiki/index.php?title=Talk:Komodia%27s_Redirector_user_experience_guide&amp;action=edit&amp;redlink=1" primary="1" context="talk" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource" class="selected"><a href="index.php@title=Komodia%2527s_Redirector_user_experience_guide&amp;action=edit.html" primary="1" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="index.php@title=Komodia%2527s_Redirector_user_experience_guide&amp;action=history.html" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-anonuserpage"><a href="http://www.komodia.com/wiki/index.php/User:46.165.222.245" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">46.165.222.245</a></li>
				<li id="pt-anontalk"><a href="http://www.komodia.com/wiki/index.php/User_talk:46.165.222.245" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
				<li id="pt-anonlogin"><a href="index.php@title=Special%253AUserLogin&amp;returnto=Komodia%2527s+Redirector+user+experience+guide&amp;returntoquery=action%253Dedit.html" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
<a href="index.php/Main_Page.html" style="background-image: url(http://www.komodia.com/images/logo.png);" title="Visit the main page"></a>
	</div>
	<div class="generated-sidebar portlet" id="p-navigation">
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="index.php/Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
				<li id="n-Official-homepage"><a href="../index.php.html">Official homepage</a></li>
				<li id="n-recentchanges"><a href="index.php/Special%253ARecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="http://www.komodia.com/wiki/index.php" id="searchform">
				<input type='hidden' name="title" value="Special:Search"/>
				<input type="search" name="search" title="Search Komodia [f]" accesskey="f" id="searchInput" />
				<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
				<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="index.php/Special%253AWhatLinksHere/Komodia's_Redirector_user_experience_guide.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="index.php/Special%253ARecentChangesLinked/Komodia's_Redirector_user_experience_guide.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
				<li id="t-specialpages"><a href="index.php/Special%253ASpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<div id="f-poweredbyico">
		<a href="http://www.mediawiki.org/"><img src="skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
	</div>
	<ul id="f-list">
		<li id="privacy"><a href="index.php/Komodia%253APrivacy_policy.html" title="Komodia:Privacy policy">Privacy policy</a></li>
		<li id="about"><a href="index.php/Komodia%253AAbout.html" title="Komodia:About">About Komodia</a></li>
		<li id="disclaimer"><a href="index.php/Komodia%253AGeneral_disclaimer.html" title="Komodia:General disclaimer">Disclaimers</a></li>
	</ul>
</div>
</div>
<script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest"], null, true);
}</script>
<script>if(window.mw){
mw.loader.state({"site":"ready"});
}</script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-6898822-1");
pageTracker._trackPageview();
</script><!-- Piwik -->
<script type="text/javascript">
/* <![CDATA[ */
var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.komodia.com/" : "http://piwik.komodia.com/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
/* ]]> */
</script>
<script type="text/javascript">
/* <![CDATA[ */
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 6);
piwikTracker.setDocumentTitle("");
piwikTracker.setIgnoreClasses("image");

piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
/* ]]> */
</script><noscript><p><img src="http://piwik.komodia.com/piwik.php?idsite=6" style="border:0" alt=""/></p></noscript>
<!-- /Piwik --><!-- Served in 0.179 secs. --></body></html>